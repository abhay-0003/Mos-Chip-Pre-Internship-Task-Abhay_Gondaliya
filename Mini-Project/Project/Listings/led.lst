A51 MACRO ASSEMBLER  LED                                                                  11/30/2025 14:48:05 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\led.obj
ASSEMBLER INVOKED BY: F:\Study\Keil\C51\BIN\A51.EXE led.a51 SET(SMALL) DEBUG PRINT(.\Listings\led.lst) OBJECT(.\Objects\
                      led.obj) EP

LOC  OBJ            LINE     SOURCE

0000                   1     ORG 0000H
0000 8003              2     SJMP MAIN          ; Jump to main program
                       3     
                       4     ;--------------------------
                       5     ; INT0 Interrupt Vector
                       6     ;--------------------------
0003                   7     ORG 0003H
0003 0123              8     AJMP INT0_ISR
                       9     
                      10     ;==========================
                      11     ;       VARIABLES
                      12     ;==========================
  0020                13     FLAG BIT 20H       ; Flag stored in BIT-ADDRESSABLE RAM
                      14     
                      15     ;==========================
                      16     ;       MAIN PROGRAM
                      17     ;==========================
0005                  18     MAIN:
0005 75A000           19         MOV P2, #00H        ; LEDs off
                      20     
0008 75A881           21         MOV IE, #81H        ; EA=1, EX0=1
000B 758801           22         MOV TCON, #01H      ; IT0=1 ? edge triggered
                      23     
000E C220             24         CLR FLAG            ; Initially flag = 0 (normal mode)
                      25     
0010                  26     MAIN_LOOP:
0010 E590             27         MOV A, P1
0012 F5A0             28             MOV P2, A
0014 202002           29             JB FLAG, TOGGLE   ; If FLAG = 0 ? normal mode
0017 80F7             30             SJMP MAIN_LOOP
0019                  31     TOGGLE:
0019 F4               32             CPL A
001A F5A0             33             MOV P2, A
001C 3020F1           34             JNB FLAG, MAIN_LOOP
001F E590             35             MOV A, P1
0021 80F6             36             SJMP TOGGLE
                      37         
                      38     ;==========================
                      39     ;     INTERRUPT SERVICE
                      40     ;==========================
0023                  41     INT0_ISR:
                      42     
0023 B220             43         CPL FLAG             ; Toggle mode flag (0?1, 1?0)
                      44                              ; No debounce here, can add if needed
                      45     
0025 32               46         RETI
                      47     
                      48     
                      49     
                      50     END
A51 MACRO ASSEMBLER  LED                                                                  11/30/2025 14:48:05 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

FLAG . . . . . . .  B ADDR   0024H.0 A   
IE . . . . . . . .  D ADDR   00A8H   A   
INT0_ISR . . . . .  C ADDR   0023H   A   
MAIN . . . . . . .  C ADDR   0005H   A   
MAIN_LOOP. . . . .  C ADDR   0010H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
TCON . . . . . . .  D ADDR   0088H   A   
TOGGLE . . . . . .  C ADDR   0019H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
